html, body {
    height: 100%;
}
body {
    display: flex;
    flex-direction: column;
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    touch-action: manipulation;
}
main {
    flex: 1;
}

.btn-dark{
    --bs-btn-active-bg: #383C4B;
}
.btn-dark:hover{
    background-color: #3f424490  !important;
}

.nav{
    --bs-nav-link-color: gray;
    --bs-nav-link-hover-color: black;
}
.additional_notes::placeholder{
    color: rgb(153, 151, 151);
}

.card{
    --bs-card-height: ;
    border-color: lightgray 1px;
}

.equal-cols th,
.equal-cols td {
    width: 11%; /* 9 columns: 100/9 â‰ˆ 11% */
    text-align: center;
    vertical-align: middle;
    white-space: nowrap;
}

/* Select2 Mehrfachauswahl: Tags untereinander statt nebeneinander */
.select2-container--bootstrap4 .select2-selection--multiple .select2-selection__rendered {
    display: flex !important;
    flex-direction: column !important;
    gap: 2px;
}

/* iOS Mobile Optimizations */
@media (max-width: 768px) {
    /* Better spacing on mobile */
    .container-fluid {
        padding-left: 10px;
        padding-right: 10px;
    }
    
    /* Improved form controls for touch */
    .form-control, .form-select {
        min-height: 44px;
        font-size: 16px;
        padding: 10px 12px;
    }
    
    /* Better button touch targets */
    .btn {
        min-height: 44px;
        padding: 10px 16px;
        font-size: 16px;
    }
    
    /* Responsive table improvements */
    .table-responsive {
        font-size: 0.8rem;
    }
    
    .table th, .table td {
        padding: 0.5rem 0.25rem;
        white-space: nowrap;
    }
    
    /* Card improvements for mobile */
    .card {
        margin-bottom: 1rem;
    }
    
    .card-header h4, .card-header h5 {
        font-size: 1.1rem;
        margin-bottom: 0.25rem;
    }
    
    /* Navigation improvements - Fix overlapping */
    .navbar-brand {
        font-size: 0.9rem !important;
        max-width: 35% !important;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    .navbutton {
        padding: 6px 8px !important;
        margin: 1px !important;
        font-size: 0.7rem !important;
        min-width: auto !important;
        flex-shrink: 1;
    }
    
    /* Fix navigation container */
    .d-flex.flex-wrap {
        max-width: 50% !important;
        gap: 2px;
        flex-wrap: wrap !important;
    }
    
    /* Dashboard export button fixes */
    .d-flex.justify-content-between {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 10px;
    }
    
    .dropdown {
        width: 100%;
    }
    
    .dropdown .btn {
        width: 100%;
        justify-content: space-between;
        display: flex;
        align-items: center;
    }
    
    /* Better tab navigation on mobile */
    .nav-tabs {
        flex-wrap: wrap;
    }
    
    .nav-tabs .nav-link {
        font-size: 0.85rem;
        padding: 0.5rem 0.75rem;
    }
    
    /* Card action buttons - prevent overflow */
    .card-body .btn-group {
        flex-wrap: wrap;
        gap: 2px;
    }
    
    .card-body .btn-sm {
        font-size: 0.7rem;
        padding: 4px 8px;
        margin: 1px;
    }
}

@media (max-width: 480px) {
    /* Extra small screens - iPhone SE size */
    .navbar-brand {
        font-size: 0.8rem !important;
        max-width: 30% !important;
    }
    
    .navbutton {
        padding: 4px 6px !important;
        font-size: 0.65rem !important;
        margin: 0.5px !important;
    }
    
    .d-flex.flex-wrap {
        max-width: 45% !important;
    }
    
    .table {
        font-size: 0.7rem;
    }
    
    .btn-sm {
        min-height: 36px;
        font-size: 12px;
        padding: 2px 6px;
    }
    
    /* Dashboard title on very small screens */
    h2.mb-0 {
        font-size: 1.3rem;
    }
    
    /* Logout button optimization */
    .btn-secondary.btn-sm {
        font-size: 0.7rem;
        padding: 4px 8px;
    }
}

/* Specific fixes for iOS Safari navbar */
@media screen and (max-width: 767px) and (-webkit-min-device-pixel-ratio:0) {
    .navbar {
        padding: 0.25rem 0.5rem !important;
        min-height: 50px !important;
    }
    
    .container-fluid {
        gap: 5px;
        align-items: center;
    }
    
    /* Ensure all navigation elements fit */
    .navbar .container-fluid > * {
        flex-shrink: 1;
    }
    
    /* Stack export section on mobile */
    .d-flex.justify-content-between.align-items-center {
        flex-direction: column;
        align-items: stretch !important;
        gap: 15px;
    }
    
    .d-flex.justify-content-between.align-items-center h2 {
        text-align: center;
        margin-bottom: 0;
    }
    
    .d-flex.justify-content-between.align-items-center .dropdown,
    .d-flex.justify-content-between.align-items-center small {
        align-self: center;
    }
}

@media (max-width: 480px) {
    /* Extra small screens */
    .navbutton {
        padding: 6px 8px;
        font-size: 0.75rem;
    }
    
    .table {
        font-size: 0.7rem;
    }
    
    .btn-sm {
        min-height: 38px;
        font-size: 14px;
    }
}

/* Fix for iOS Safari input zoom */
@media screen and (-webkit-min-device-pixel-ratio:0) {
    select, textarea, input[type="text"], input[type="password"], 
    input[type="datetime"], input[type="datetime-local"], 
    input[type="date"], input[type="month"], input[type="time"], 
    input[type="week"], input[type="number"], input[type="email"], 
    input[type="url"], input[type="search"], input[type="tel"], 
    input[type="color"] {
        font-size: 16px;
        -webkit-appearance: none;
        appearance: none;
    }
}

/* Prevent text selection on UI elements */
.btn, .nav-link, .card-header {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
}

/* Improve touch targets */
.accordion-button, .nav-link, .btn {
    touch-action: manipulation;
}

/* Better accordion for mobile */
@media (max-width: 768px) {
    .accordion-button {
        padding: 1rem 0.75rem;
        font-size: 0.9rem;
    }
    
    .accordion-body {
        padding: 1rem 0.75rem;
    }
}

